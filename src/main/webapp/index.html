<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>geppetto</title>

		<!-- Third-party js libraries -->
		<script src="js/vendor/jquery-1.9.1.js"></script>
		<script src="js/vendor/jquery-ui-1.10.3.custom.js"></script>
		<script src="js/vendor/three.min.js"></script>
		<script src="js/vendor/TrackballControls.js"></script>
		<script src="js/vendor/dat.gui.js"></script>
		<script src="js/vendor/stats.min.js"></script>
		<script src="js/vendor/THREEx.KeyboardState.js"></script>
		<script src="js/vendor/Detector.js"></script>
		<script src="js/vendor/ColorConverter.js"></script>
		<script src="js/vendor/bootstrap.min.js"></script>
		<script src="js/vendor/jquery.flot.min.js"></script>
		<script src="js/vendor/jquery.cookie.js"></script>
		<script src="js/vendor/jquery.flot.resize.min.js"></script>
		<script src="js/vendor/rAF.js"></script>
		<script src="js/vendor/codemirror.js"></script>
		<script src="js/vendor/xml.js"></script>
		<script src="js/vendor/decoder-js.js"></script>
		<script src="js/vendor/browser-buffer.js"></script>
		<script src ="js/vendor/javascript.js"></script>
		<script src="js/vendor/formatting.js"></script>	

		<!-- Geppetto -->
		<script src="js/GEPPETTO.Resources.js"></script>
		<script src="js/GEPPETTO.js"></script>
		<script src="js/GEPPETTO.Vanilla.js"></script>
		<script src="js/GEPPETTO.Main.js"></script>
		<script src="js/GEPPETTO.FE.js"></script>
		<script src="js/GEPPETTO.ScriptRunner.js"></script>
		<script src="js/websocket-handlers/GEPPETTO.MessageSocket.js"></script>
		<script src="js/websocket-handlers/GEPPETTO.GlobalHandler.js"></script>
		<script src="js/websocket-handlers/GEPPETTO.SimulationHandler.js"></script>
		<script src="js/websocket-handlers/GEPPETTO.SocketMessageTypes.js"></script>		
		<script src="js/GEPPETTO.SimulationContentEditor.js"></script>
		<script src="js/GEPPETTO.JSEditor.js"></script>
		<script src="js/GEPPETTO.Console.js"></script>
		<script src="js/geppetto-objects/Simulation.js"></script>
		<script src="js/geppetto-objects/G.js"></script>
		<script src="js/GEPPETTO.Utility.js"></script>
		
		<!-- CSS -->
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<link rel="stylesheet" href="css/custom-theme/jquery-ui-1.10.0.custom.css" />
		<link rel="stylesheet" href="css/font-awesome.css" />
		<link rel="stylesheet" href="css/codemirror.css" />
		<link rel="stylesheet" href="css/lesser-dark.css" />
		<link rel="stylesheet" href="css/jsConsole.css" />
		<link rel="stylesheet" href="css/style.css" />
		<link rel="stylesheet" href="widgets/Widget.css" />
		<link rel="stylesheet" href="widgets/plots/Plot.css" />
		
	</head>
	<link rel="icon" 
      type="image/png" 
      href="images/favicon.png"/>
	<body>
	<div id="controls">

		<div id="sim_toolbar">
			<a href="#loadSimModal" role="button" class="btn" data-toggle="modal"
				data-keyboard="false" id="openload"><icon
					class="icon-folder-open-alt"></icon> Load Simulation</a>
			<button class="btn" id="start">
				<icon class="icon-play"></icon>
				Start
			</button>
			<button class="btn" id="pause">
				<icon class="icon-pause"></icon>
				Pause
			</button>
			<button class="btn" id="stop">
				<icon class="icon-stop"></icon>
				Stop
			</button>

			<!-- Alert box used when visitor in observing simulation -->
			<div id="alertbox" class="alert alert-block">
				<a class="close" data-dismiss="alert">×</a>
				<h4 class="alert-heading" align="center">
					<i class="icon-info-sign icon-2x" id="infopopover" rel="popover" 
						data-placement="left" data-trigger="hover"></i>Observing
					Simulation Mode
				</h4>
				<p id="alertbox-text"></p>
			</div>
		</div>

		<div id="position_toolbar">
			<button class="btn squareB icon-chevron-left" id="w"></button>
			<button class="btn squareB icon-chevron-up" id="n"></button>
			<button class="btn squareB icon-chevron-right" id="e"></button>
			<button class="btn squareB icon-chevron-down" id="s"></button>
			<button class="btn squareB icon-home" id="h"></button>

			<button class="btn squareB icon-undo" id="rw"></button>
			<button class="btn squareB icon-repeat rotate90" id="rn"></button>
			<button class="btn squareB icon-repeat" id="re"></button>
			<button class="btn squareB icon-undo rotate90" id="rs"></button>
			<button class="btn squareB icon-home" id="rh"></button>

			<button class="btn squareB icon-zoom-in" id="zi"></button>
			<button class="btn squareB icon-zoom-out" id="zo"></button>
			<br />
		</div>
	</div>
	<!--
		<div id="toolbar">
		<div id="mode" class="btn-group" data-toggle="buttons-radio">
		<button class="btn active" id="normalMode" checked="checked">Normal mode</button>
		<button class="btn"  id="selectionMode" checked="checked">Selection mode</button>
		</div>
		<div id="io" class="btn-group" data-toggle="buttons-checkbox">
		<button class="btn squareB icon-signin active" id="showinputs"   ></button>
		<button class="btn squareB icon-signout active" id="showoutputs"></button>
		<button class="btn squareB icon-filter active" id="showdeselected" ></button>
		</div>
		<div>
		<button class="btn squareB icon-refresh" data-toggle="button" id="rotationMode"></button>
		<button class="btn squareB icon-info-sign" id="helpbutton" href="#help" data-toggle="modal"></button>
		</div>
		</div>
		</div>
		-->
	<div id="mainContainer">
		<div id="sim"></div>

		<div id="footer">
			<div id="footerHeader">
				<div id="geppettologo"></div>
				<div id="consoleButtonContainer">		
					<button class="btn" data-clipboard-target="clipboard_text" id="consoleButton">
						<icon class="icon-terminal"></icon>
						Console
					</button>
				</div>
			</div>
			<div id="console">Console Loading...</div>
		</div>
	</div>
	
	<div id="loadSimModal" class="modal hide fade" tabindex="-1"
		role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
		data-backdrop="static">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal"
				aria-hidden="true">&times;</button>
			<h3 id="myModalLabel">Load Simulation</h3>
		</div>
		<div class="modal-body">
			<form class="form-horizontal">
				<div class="control-group">
					<div id="radioDiv" class="modal-input">
						<div class="controls">
							<label class="radio inline"> <input type="radio"
								name="optionsRadios" id="urlRadio" value="active" checked>URL
							</label> <label class="radio inline"> <input type="radio"
								name="optionsRadios" id="customRadio" value="inactive">Custom
							</label>
						</div>
					</div>
				</div>
				<div id="urlInput" class="control-group">
					<div id="input" class="modal-input">
						<label class="control-label" for="url">URL</label>
						<div class="controls">
							<input class="input-d\xlarge" id="url" type="text"
								placeholder="Paste the URL of the simulation file...">
						</div>
					</div>
				</div>
				<div id="customInputDiv" class="control-group hide">
					<div id="input" class="modal-input">
						<label class="control-label">Content</label>
						<div class="controls">
							<textarea id="xmlCode" name="xmlCode"></textarea>
							<button id="fullscreen" type="button"
								class="button icon-fullscreen"></button>
						</div>
					</div>
				</div>
				<div id="samplesDiv" class="control-group">
					<div id="input" class="modal-input">
						<label class="control-label" for="dLabel">Samples</label>
						<div class="controls">
							<div class="btn-group">
								<a class="btn dropdown-toggle" id="dLabel"
									data-toggle="dropdown" href="#"><span
									id="dropdowndisplaytext">Select simulation from list...</span><b
									class="caret"></b></a>
								<ul class="dropdown-menu" id="dropdownmenu"
									aria-labelledby="dLabel">
								</ul>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
		<div class="modal-footer">
			<a href="#" data-dismiss="modal" class="btn">Close</a>
			<button id="load" class="btn btn-warning">Load</button>
		</div>
	</div>
	
	<div id="javascriptEditor" class="modal hide fade" tabindex="-1"
		role="dialog" aria-labelledby="jsEditor-title" aria-hidden="true"
		data-backdrop="static" data-keyboard="false" >
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal"
				aria-hidden="true">&times;</button>
			<h3 id="jsEditor-title"></h3>
		</div>
		<div class="modal-body">
			<div class="controls">
				<textarea id="javascriptCode" name="javascriptCode"></textarea>
				<button id="javascriptFullscreen" type="button" class="button icon-fullscreen"></button>
			</div>
		</div>
		<div class="modal-footer">
			<button id="jsEditor-btn" class="btn btn-warning" data-dismiss="modal" aria-hidden="true">OK</button>
		</div>
	</div>
	
	<div id="infomodal"  class="modal hide fade" tabindex="-1"  aria-labelledby="infomodal-title" aria-hidden="true" data-backdrop="static">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
					×
				</button>
				<h3 id="infomodal-title"></h3>
			</div>
			<div class="modal-body">
				<p id="infomodal-text">
				</p>
			</div>
			<div class="modal-footer">
				<button  id="infomodal-btn" class="btn btn-warning" data-dismiss="modal" aria-hidden="true">
					Ok
				</button>
			</div>
		</div>
		
		<div id="loadingmodal" class="loading modal hide well fade lead pagination-centered" data-keyboard="false" data-backdrop="static">
			<div class="asterisk icon-spin"></div>
			<p id="loadingmodaltext" class="orange"></p>
		</div>	
		
		<div id="welcomeMessageModal" class="modal hide well fade lead pagination-centered" data-backdrop="static data-keyboard="true" tabindex="-1">
			<div id="welcomeBody" class="modal-body">
				<div class="messageBody">
					<strong>Welcome to geppetto!</strong> geppetto is an open-source platform designed by engineers together with scientists to 
					simulate complex biological systems and their surrounding environment. 
					This is an <strong>early access</strong> development release.<br/>
					<div class="smallText">
					We worked hard to bring you the best possible alpha release but geppetto is still very much a platform under development. 
					In fact we reckon this only represents about 15% of what you can expect in the end. We hope you'll enjoy it.</div>
				</div>
				<div class="progress progress-warning">
				  <div class="bar" style="width: 16%"></div>
				  <span class="sr-only">16% Complete</span>
				</div>

				<button  id="close-welcomeMsg" class="btn btn-success" data-dismiss="modal" aria-hidden="true">
					Start
				</button>
				<div class="wmCheckBoxDiv">
					<span class="input-group-addon">
	    				<input id="welcomeMsgCookie" type="checkbox">
	  				</span>
	  				<span class="label">Don't show next time I visit Geppetto</span>
	  			</div>
			</div>

		</div>
			
		<script type="text/template" id="tplSandbox">
		<pre class="output"></pre>
		<div class="input">
			<textarea rows="1" id="commandInputArea" placeholder="<%= placeholder %>"></textarea>
		</div>
	</script>
	
	<!-- The command/result template (NB whitespace/line breaks matter inside <pre> tag): -->
	<script type="text/template" id="tplCommand"><% if (! _hidden) { %><span class="command"><%= command %></span>
<span class="prefix"><%= this.resultPrefix %></span><span class="<%= _class %>"><%= result %></span>
<% } %></script>

<script type="text/template" id="tplDebug"><span class="<%= _class %>"><%= result %></span></script>

		<!-- The sandbox template: -->
		<script src="js/vendor/underscore.min.js"></script>
		<script src="js/vendor/backbone.min.js"></script>
		<script src="js/vendor/backbone-localStorage.min.js"></script>
		<script src="js/SandboxConsole.js"></script>
		
		<script src="widgets/Widget.js"></script>
		<script src="widgets/plots/Plot.js"></script>
		<script src="js/widget-controllers/GEPPETTO.WidgetsListener.js"></script>		
		<script src="js/widget-controllers/GEPPETTO.PlotsController.js"></script>
		<script src="js/widget-controllers/GEPPETTO.SimState.js"></script>
		<script src="js/GEPPETTO.WidgetFactory.js"></script>
		<script>
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-45841517-1']);
		  _gaq.push(['_trackPageview']);
		  (function() {
		  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
  	
  	
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		
		  ga('create', 'UA-45841517-1', 'geppetto.org');
		  ga('send', 'pageview');
		</script>
</body>
</html>